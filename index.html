<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allinonebd - Game Zone</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #e5e7eb;
            touch-action: none; /* Prevent screen scroll on touch devices */
        }
        .game-container {
            width: 100%;
            max-width: 800px;
            margin: 1rem auto;
        }
        .main-game-box {
            background-color: white;
            border: 1px solid #d1d5db;
            border-radius: 0.75rem;
            padding: 1rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .ad-placeholder {
            background-color: #d1d5db;
            border: 2px dashed #9ca3af;
            color: #4b5563;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            min-height: 50px;
        }
        #game-board {
            border: 2px solid #374151;
            background-color: #f3f4f6;
        }
    </style>
</head>
<body class="p-2 md:p-4">

    <div class="game-container">
        <div class="ad-placeholder h-24 mb-4">
             </div>

        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 text-center mb-4">
            <a href="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞-‡¶°‡¶ø‡¶∞‡ßá‡¶ï‡ßç‡¶ü-‡¶≤‡¶ø‡¶ô‡ßç‡¶ï-‡ßß" target="_blank" class="p-3 bg-green-500 text-white font-bold rounded-lg shadow-md">üéÅ Claim Bonus</a>
            <a href="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞-‡¶°‡¶ø‡¶∞‡ßá‡¶ï‡ßç‡¶ü-‡¶≤‡¶ø‡¶ô‡ßç‡¶ï-‡ß®" target="_blank" class="p-3 bg-blue-500 text-white font-bold rounded-lg shadow-md">‚ñ∂Ô∏è Play & Win</a>
            <a href="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞-‡¶°‡¶ø‡¶∞‡ßá‡¶ï‡ßç‡¶ü-‡¶≤‡¶ø‡¶ô‡ßç‡¶ï-‡ß©" target="_blank" class="p-3 bg-yellow-500 text-white font-bold rounded-lg shadow-md">üíé Get Reward</a>
            <a href="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞-‡¶°‡¶ø‡¶∞‡ßá‡¶ï‡ßç‡¶ü-‡¶≤‡¶ø‡¶ô‡ßç‡¶ï-‡ß™" target="_blank" class="p-3 bg-red-500 text-white font-bold rounded-lg shadow-md">‚ö° Instant Win</a>
        </div>

        <div class="main-game-box">
            <div id="game-rules" class="text-center">
                <h1 class="text-2xl font-bold text-gray-800 mb-4">Game Rules & Rewards</h1>
                <ul class="text-left list-disc list-inside bg-gray-50 p-4 rounded-lg">
                    <li>1000 Points = 1 BDT</li>
                    <li>Using any kind of VPN/Proxy is strictly prohibited.</li>
                    <li>Only one account is allowed per IP address.</li>
                    <li>Breaking rules can lead to account suspension.</li>
                </ul>
                <button id="start-game-btn" class="w-full max-w-sm mt-6 bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700">I Understand, Start Game</button>
            </div>

            <div id="game-area" class="hidden text-center">
                <div class="flex justify-between items-center mb-2 px-2">
                    <h2 class="text-xl font-bold">Snake Game</h2>
                    <div class="text-lg font-bold bg-gray-200 px-3 py-1 rounded-md">Score: <span id="score">0</span></div>
                </div>
                <canvas id="game-board" width="320" height="320"></canvas>
                 <div id="game-over-screen" class="hidden mt-4">
                    <p class="text-2xl font-bold text-red-600">Game Over!</p>
                    <p class="text-lg">Your Final Score: <span id="final-score">0</span></p>
                    <div class="mt-4 space-y-2">
                        <button id="restart-btn" class="w-full max-w-xs bg-blue-600 text-white font-bold py-2 px-4 rounded-lg">Restart Game</button>
                        <button id="revive-ad-btn" class="w-full max-w-xs bg-green-600 text-white font-bold py-2 px-4 rounded-lg">Watch Ad to Continue</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="ad-placeholder h-24 mt-4">
             </div>
    </div>

    <script>
        const board = document.getElementById('game-board');
        const context = board.getContext('2d');
        const scoreEl = document.getElementById('score');
        const finalScoreEl = document.getElementById('final-score');
        const gameOverScreen = document.getElementById('game-over-screen');
        const restartBtn = document.getElementById('restart-btn');
        
        const TILE_SIZE = 20;
        const BOARD_WIDTH = board.width / TILE_SIZE;
        const BOARD_HEIGHT = board.height / TILE_SIZE;

        let snake = [{ x: 10, y: 10 }];
        let food = {};
        let direction = { x: 0, y: -1 }; // Start moving up
        let score = 0;
        let gameOver = false;
        let gameLoop;

        function placeFood() {
            food = {
                x: Math.floor(Math.random() * BOARD_WIDTH),
                y: Math.floor(Math.random() * BOARD_HEIGHT)
            };
            // Ensure food doesn't spawn on the snake
            for (let segment of snake) {
                if (segment.x === food.x && segment.y === food.y) {
                    placeFood();
                    return;
                }
            }
        }

        function draw() {
            // Clear board
            context.fillStyle = '#f3f4f6';
            context.fillRect(0, 0, board.width, board.height);

            // Draw food
            context.fillStyle = 'red';
            context.fillRect(food.x * TILE_SIZE, food.y * TILE_SIZE, TILE_SIZE, TILE_SIZE);

            // Draw snake
            context.fillStyle = 'green';
            snake.forEach(segment => {
                context.fillRect(segment.x * TILE_SIZE, segment.y * TILE_SIZE, TILE_SIZE, TILE_SIZE);
            });
        }

        function update() {
            if (gameOver) {
                clearInterval(gameLoop);
                gameOverScreen.classList.remove('hidden');
                finalScoreEl.innerText = score;
                // ‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶ß‡¶æ‡¶™‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶è‡¶á ‡¶∏‡ßç‡¶ï‡ßã‡¶∞ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶¨‡ßã
                return;
            }

            const head = { x: snake[0].x + direction.x, y: snake[0].y + direction.y };
            snake.unshift(head);

            // Check for collision with food
            if (head.x === food.x && head.y === food.y) {
                score++;
                scoreEl.innerText = score;
                placeFood();
            } else {
                snake.pop();
            }

            // Check for collision with walls or self
            if (head.x < 0 || head.x >= BOARD_WIDTH || head.y < 0 || head.y >= BOARD_HEIGHT) {
                gameOver = true;
            }
            for (let i = 1; i < snake.length; i++) {
                if (head.x === snake[i].x && head.y === snake[i].y) {
                    gameOver = true;
                    break;
                }
            }
            
            draw();
        }

        function changeDirection(e) {
            const key = e.key;
            if ((key === 'ArrowUp' || key.toLowerCase() === 'w') && direction.y === 0) {
                direction = { x: 0, y: -1 };
            } else if ((key === 'ArrowDown' || key.toLowerCase() === 's') && direction.y === 0) {
                direction = { x: 0, y: 1 };
            } else if ((key === 'ArrowLeft' || key.toLowerCase() === 'a') && direction.x === 0) {
                direction = { x: -1, y: 0 };
            } else if ((key === 'ArrowRight' || key.toLowerCase() === 'd') && direction.x === 0) {
                direction = { x: 1, y: 0 };
            }
        }
        
        function startGame() {
            snake = [{ x: 10, y: 10 }];
            direction = { x: 0, y: 0 };
            score = 0;
            gameOver = false;
            scoreEl.innerText = score;
            gameOverScreen.classList.add('hidden');
            
            placeFood();
            
            if (gameLoop) clearInterval(gameLoop);
            gameLoop = setInterval(update, 150); // Game speed
        }

        // Event Listeners
        document.getElementById('start-game-btn').addEventListener('click', () => {
            document.getElementById('game-rules').classList.add('hidden');
            document.getElementById('game-area').classList.remove('hidden');
            startGame();
        });
        
        restartBtn.addEventListener('click', startGame);

        document.addEventListener('keydown', changeDirection);
    </script>

</body>
</html>
