<!DOCTYPE html>
<html lang="en">
<head>
┬а ┬а <meta charset="UTF-8">
┬а ┬а <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
┬а ┬а <title>Allinonebd - Game Zone</title>
┬а ┬а <script src="https://cdn.tailwindcss.com"></script>
┬а ┬а <link rel="preconnect" href="https://fonts.googleapis.com">
┬а ┬а <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
┬а ┬а <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
┬а ┬а <script src="https://unpkg.com/@phosphor-icons/web"></script>
┬а ┬а <style>
┬а ┬а ┬а ┬а body {
┬а ┬а ┬а ┬а ┬а ┬а font-family: 'Inter', sans-serif;
┬а ┬а ┬а ┬а ┬а ┬а background-color: #e5e7eb;
┬а ┬а ┬а ┬а ┬а ┬а /* touch-action: none; ржПржЗ рж▓рж╛ржЗржиржЯрж┐ ржЕржкрж╕рж╛рж░ржг ржХрж░рж╛ рж╣рж▓рзЛ ржпрж╛рждрзЗ ржорзЛржмрж╛ржЗрж▓рзЗ рж╕рзНржХрзНрж░рж▓ ржХрж░рж╛ ржпрж╛рзЯ */
            /* ржорзЛржмрж╛ржЗрж▓рзЗ ржкрзБрж░рзЛ ржХржирзНржЯрзЗржирзНржЯ ржжрзЗржЦрж╛ржирзЛрж░ ржЬржирзНржп ржирждрзБржи ржкрж░рж┐ржмрж░рзНрждржи: */
            min-height: 100vh; /* Viewport ржПрж░ рж╕ржорзНржкрзВрж░рзНржг ржЙржЪрзНржЪрждрж╛ */
            overflow-y: auto; /* ржкрзНрж░ржпрж╝рзЛржЬржирзЗ рж╕рзНржХрзНрж░рж▓ржмрж╛рж░ ржжрзЗржЦрж╛ржмрзЗ */
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а .game-container {
┬а ┬а ┬а ┬а ┬а ┬а width: 100%;
┬а ┬а ┬а ┬а ┬а ┬а max-width: 900px;
┬а ┬а ┬а ┬а ┬а ┬а margin: 0.5rem auto;
            /* ржмржХрзНрж╕рзЗрж░ ржЙржЪрзНржЪрждрж╛ ржХрж┐ржЫрзБржЯрж╛ ржХржорж╛ржирзЛ рж╣рж▓рзЛ ржпрж╛рждрзЗ ржмрж╛ржХрж┐ ржЙржкрж╛ржжрж╛ржиржЧрзБрж▓рж┐ ржлрж┐ржЯ рж╣ржпрж╝ */
            padding-bottom: 2rem; 
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а .main-game-box {
┬а ┬а ┬а ┬а ┬а ┬а background-color: white;
┬а ┬а ┬а ┬а ┬а ┬а border: 1px solid #d1d5db;
┬а ┬а ┬а ┬а ┬а ┬а border-radius: 0.75rem;
┬а ┬а ┬а ┬а ┬а ┬а padding: 1.5rem;
┬а ┬а ┬а ┬а ┬а ┬а box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
┬а ┬а ┬а ┬а ┬а ┬а /* min-height: 550px; ржПржЗ рж▓рж╛ржЗржиржЯрж┐ ржЕржкрж╕рж╛рж░ржг ржХрж░рж╛ рж╣рж▓рзЛ ржпрж╛рждрзЗ ржЙржЪрзНржЪрждрж╛ ржХржирзНржЯрзЗржирзНржЯ ржЕржирзБржпрж╛рзЯрзА рж╕рзЗржЯ рж╣рзЯ */
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а .ad-placeholder {
┬а ┬а ┬а ┬а ┬а ┬а background-color: #d1d5db;
┬а ┬а ┬а ┬а ┬а ┬а border: 2px dashed #9ca3af;
┬а ┬а ┬а ┬а ┬а ┬а color: #4b5563;
┬а ┬а ┬а ┬а ┬а ┬а display: flex;
┬а ┬а ┬а ┬а ┬а ┬а align-items: center;
┬а ┬а ┬а ┬а ┬а ┬а justify-content: center;
┬а ┬а ┬а ┬а ┬а ┬а border-radius: 0.5rem;
┬а ┬а ┬а ┬а ┬а ┬а font-size: 0.875rem;
┬а ┬а ┬а ┬а ┬а ┬а font-weight: 500;
┬а ┬а ┬а ┬а ┬а ┬а min-height: 50px;
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а #game-board {
┬а ┬а ┬а ┬а ┬а ┬а border: 5px solid #4a5568;
┬а ┬а ┬а ┬а ┬а ┬а background-color: #f3f4f6; /* ржирждрзБржи рж╣рж╛рж▓ржХрж╛ ржзрзВрж╕рж░ ржмрзНржпрж╛ржХржЧрзНрж░рж╛ржЙржирзНржб */
┬а ┬а ┬а ┬а ┬а ┬а image-rendering: pixelated;
┬а ┬а ┬а ┬а ┬а ┬а /* ржЧрзЗржо ржмрзЛрж░рзНржбржХрзЗ ржорзЛржмрж╛ржЗрж▓рзЗ ржЫрзЛржЯ ржХрж░рж╛рж░ ржЬржирзНржп рж╕рж░рзНржмрзЛржЪрзНржЪ ржкрзНрж░рж╕рзНрже ржПржмржВ ржЙржЪрзНржЪрждрж╛ ржарж┐ржХ ржХрж░рж╛ рж╣рж▓рзЛ */
            max-width: 300px; 
            max-height: 300px;
            width: 100%; /* ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржкрзНрж░рж╕рзНржерзЗрж░ рж╕рж╛ржерзЗ ржорж╛ржирж┐рзЯрзЗ ржирзЗржмрзЗ */
            height: 100%; /* ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржЙржЪрзНржЪрждрж╛рж░ рж╕рж╛ржерзЗ ржорж╛ржирж┐рзЯрзЗ ржирзЗржмрзЗ */
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а .game-list-item {
┬а ┬а ┬а ┬а ┬а ┬а cursor: pointer;
┬а ┬а ┬а ┬а ┬а ┬а transition: transform 0.2s;
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а .game-list-item:hover {
┬а ┬а ┬а ┬а ┬а ┬а transform: translateY(-5px);
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а #controls {
┬а ┬а ┬а ┬а ┬а ┬а display: grid;
┬а ┬а ┬а ┬а ┬а ┬а grid-template-columns: repeat(3, 1fr);
┬а ┬а ┬а ┬а ┬а ┬а gap: 10px;
┬а ┬а ┬а ┬а ┬а ┬а width: 100%;
┬а ┬а ┬а ┬а ┬а ┬а max-width: 200px;
┬а ┬а ┬а ┬а ┬а ┬а margin: 1rem auto 0;
            /* ржПржЯрж┐ ржпрзЗржи рж╕рзНржХрзНрж░рж┐ржирзЗрж░ ржирж┐ржЪрзЗ ржнрж╛рж▓рзЛржнрж╛ржмрзЗ ржлрж┐ржЯ ржХрж░рзЗ рждрж╛рж░ ржЬржирзНржп ржЖрж░рзЛ ржЙржкрж░рзЗ ржирж┐рзЯрзЗ ржЖрж╕рж╛ рж╣рж▓рзЛ */
            margin-top: 1.5rem;
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а .ctrl-btn {
┬а ┬а ┬а ┬а ┬а ┬а background-color: #4a5568;
┬а ┬а ┬а ┬а ┬а ┬а color: white;
┬а ┬а ┬а ┬а ┬а ┬а border-radius: 50%;
┬а ┬а ┬а ┬а ┬а ┬а width: 50px;
┬а ┬а ┬а ┬а ┬а ┬а height: 50px;
┬а ┬а ┬а ┬а ┬а ┬а display: flex;
┬а ┬а ┬а ┬а ┬а ┬а align-items: center;
┬а ┬а ┬а ┬а ┬а ┬а justify-content: center;
┬а ┬а ┬а ┬а ┬а ┬а font-size: 1.5rem;
┬а ┬а ┬а ┬а ┬а ┬а cursor: pointer;
┬а ┬а ┬а ┬а ┬а ┬а user-select: none;
┬а ┬а ┬а ┬а ┬а ┬а box-shadow: 0 4px #2d3748;
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а .ctrl-btn:active {
┬а ┬а ┬а ┬а ┬а ┬а transform: translateY(2px);
┬а ┬а ┬а ┬а ┬а ┬а box-shadow: 0 2px #2d3748;
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а #up-btn { grid-column: 2 / 3; }
┬а ┬а ┬а ┬а #left-btn { grid-column: 1 / 2; grid-row: 2 / 3; }
┬а ┬а ┬а ┬а #right-btn { grid-column: 3 / 4; grid-row: 2 / 3; }
┬а ┬а ┬а ┬а #down-btn { grid-column: 2 / 3; grid-row: 3 / 4; }
┬а ┬а </style>
</head>
<body class="p-2 md:p-4">

┬а ┬а <div class="game-container">
┬а ┬а ┬а ┬а <div class="ad-placeholder h-24 mb-4">
┬а ┬а ┬а ┬а ┬а ┬а ┬а</div>

┬а ┬а ┬а ┬а <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 text-center mb-4">
┬а ┬а ┬а ┬а ┬а ┬а <a href="ржЖржкржирж╛рж░-ржбрж┐рж░рзЗржХрзНржЯ-рж▓рж┐ржЩрзНржХ-рзз" target="_blank" class="p-3 bg-green-500 text-white font-bold rounded-lg shadow-md">ЁЯОБ Claim Bonus</a>
┬а ┬а ┬а ┬а ┬а ┬а <a href="ржЖржкржирж╛рж░-ржбрж┐рж░рзЗржХрзНржЯ-рж▓рж┐ржЩрзНржХ-рзи" target="_blank" class="p-3 bg-blue-500 text-white font-bold rounded-lg shadow-md">тЦ╢я╕П Play & Win</a>
┬а ┬а ┬а ┬а ┬а ┬а <a href="ржЖржкржирж╛рж░-ржбрж┐рж░рзЗржХрзНржЯ-рж▓рж┐ржЩрзНржХ-рзй" target="_blank" class="p-3 bg-yellow-500 text-white font-bold rounded-lg shadow-md">ЁЯТО Get Reward</a>
┬а ┬а ┬а ┬а ┬а ┬а <a href="ржЖржкржирж╛рж░-ржбрж┐рж░рзЗржХрзНржЯ-рж▓рж┐ржЩрзНржХ-рзк" target="_blank" class="p-3 bg-red-500 text-white font-bold rounded-lg shadow-md">тЪб Instant Win</a>
┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а <div class="main-game-box">
┬а ┬а ┬а ┬а ┬а ┬а <div id="game-selection-screen">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h1 class="text-3xl font-bold text-gray-800 mb-2 text-center">Choose a Game</h1>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p class="text-center text-gray-500 mb-6">Select a game from the list below to start earning points!</p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div id="select-snake-game" class="game-list-item bg-gray-50 p-4 rounded-lg shadow hover:shadow-lg border-2 border-transparent hover:border-indigo-500">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="flex items-center space-x-4">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <i class="ph-snake-bold text-5xl text-gray-700"></i>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h3 class="text-xl font-bold">Classic Snake</h3>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p class="text-gray-600">The classic and addictive snake game with a new look!</p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="game-list-item bg-gray-100 p-4 rounded-lg shadow border-2 border-transparent cursor-not-allowed opacity-50">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а<div class="flex items-center space-x-4">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <i class="ph-bird-bold text-5xl text-gray-700"></i>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h3 class="text-xl font-bold">Flappy Bird (Coming Soon)</h3>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p class="text-gray-600">Tap to fly and avoid the pipes!</p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а ┬а ┬а <div id="game-area" class="hidden text-center">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="flex justify-between items-center mb-4 px-2">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <button id="back-to-list-btn" class="text-sm bg-gray-200 px-3 py-1 rounded-md hover:bg-gray-300">тЖР Game List</button>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="text-lg font-bold bg-gray-800 text-white px-4 py-2 rounded-md">SCORE: <span id="score">0</span></div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="flex justify-center">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div id="canvas-container" class="relative w-full max-w-xs aspect-square mx-auto">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <canvas id="game-board" width="320" height="320"></canvas>
                    </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div id="controls">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div id="up-btn" class="ctrl-btn"><i class="ph-arrow-up-bold"></i></div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div id="left-btn" class="ctrl-btn"><i class="ph-arrow-left-bold"></i></div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div id="right-btn" class="ctrl-btn"><i class="ph-arrow-right-bold"></i></div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div id="down-btn" class="ctrl-btn"><i class="ph-arrow-down-bold"></i></div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а<div id="game-over-buttons" class="hidden mt-6 space-y-3">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <button id="restart-btn" class="w-full max-w-xs mx-auto bg-blue-600 text-white font-bold py-2 px-4 rounded-lg">Play Again</button>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <button id="revive-ad-btn" class="w-full max-w-xs mx-auto bg-green-600 text-white font-bold py-2 px-4 rounded-lg">Watch Ad to Continue</button>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а <div class="ad-placeholder h-24 mt-4">
┬а ┬а ┬а ┬а ┬а ┬а ┬а</div>
┬а ┬а </div>

┬а ┬а <script>
┬а ┬а ┬а ┬а // --- Game Selection ---
┬а ┬а ┬а ┬а const gameSelectionScreen = document.getElementById('game-selection-screen');
┬а ┬а ┬а ┬а const gameArea = document.getElementById('game-area');
┬а ┬а ┬а ┬а const selectSnakeGameBtn = document.getElementById('select-snake-game');
┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а selectSnakeGameBtn.addEventListener('click', () => {
┬а ┬а ┬а ┬а ┬а ┬а gameSelectionScreen.classList.add('hidden');
┬а ┬а ┬а ┬а ┬а ┬а gameArea.classList.remove('hidden');
            // ржХрзНржпрж╛ржиржнрж╛рж╕ рж╕рж╛ржЗржЬ ржЖржкржбрзЗржЯ ржХрж░рж╛рж░ ржЬржирзНржп ржирждрзБржи ржлрж╛ржВрж╢ржи ржХрж▓ ржХрж░рж╛ рж╣рж▓рзЛ
            resizeCanvas(); 
┬а ┬а ┬а ┬а ┬а ┬а startGame();
┬а ┬а ┬а ┬а });

┬а ┬а ┬а ┬а document.getElementById('back-to-list-btn').addEventListener('click', () => {
┬а ┬а ┬а ┬а ┬а ┬а if (gameLoop) clearInterval(gameLoop);
┬а ┬а ┬а ┬а ┬а ┬а gameArea.classList.add('hidden');
┬а ┬а ┬а ┬а ┬а ┬а gameSelectionScreen.classList.remove('hidden');
┬а ┬а ┬а ┬а });

┬а ┬а ┬а ┬а // --- Snake Game Logic ---
┬а ┬а ┬а ┬а const canvas = document.getElementById('game-board');
┬а ┬а ┬а ┬а const context = canvas.getContext('2d');
┬а ┬а ┬а ┬а const scoreEl = document.getElementById('score');
┬а ┬а ┬а ┬а const gameOverButtons = document.getElementById('game-over-buttons');
┬а ┬а ┬а ┬а const restartBtn = document.getElementById('restart-btn');
┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а let TILE_SIZE = 16;
┬а ┬а ┬а ┬а let BOARD_SIZE = canvas.width / TILE_SIZE;

┬а ┬а ┬а ┬а let snake, food, direction, score, gameOver, gameLoop;

        // ржХрзНржпрж╛ржиржнрж╛рж╕рзЗрж░ ржЖржХрж╛рж░ рж░рж┐рж╕рж╛ржЗржЬ ржХрж░рж╛рж░ ржЬржирзНржп ржирждрзБржи ржлрж╛ржВрж╢ржи
        function resizeCanvas() {
            const container = document.getElementById('canvas-container');
            // ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржкрзНрж░рж╕рзНрже ржПржмржВ ржЙржЪрзНржЪрждрж╛рж░ рж╕рж░рзНржмржирж┐ржорзНржи ржорж╛ржиржЯрж┐ ржирзЗржУржпрж╝рж╛ рж╣рж▓рзЛ ржпрж╛рждрзЗ ржПржЯрж┐ ржПржХржЯрж┐ ржмрж░рзНржЧрж╛ржХрж╛рж░ ржЖржХрж╛рж░ ржзрж╛рж░ржг ржХрж░рзЗ 
            const size = Math.min(container.clientWidth, container.clientHeight, 320); 
            
            // ржХрзНржпрж╛ржиржнрж╛рж╕рзЗрж░ width ржПржмржВ height ржЖржкржбрзЗржЯ ржХрж░рж╛ рж╣рж▓рзЛ
            canvas.width = size;
            canvas.height = size;
            
            // TILE_SIZE ржЖржкржбрзЗржЯ ржХрж░рж╛ рж╣рж▓рзЛ
            // 320x320 ржЖржХрж╛рж░рзЗрж░ ржЬржирзНржп TILE_SIZE ржЫрж┐рж▓ 16. ржПржЦржи ржирждрзБржи рж╕рж╛ржЗржЬрзЗрж░ ржЬржирзНржп TILE_SIZE 20 ржжрж┐ржпрж╝рзЗ ржнрж╛ржЧ ржХрж░рзЗ ржмрзЗрж░ ржХрж░рж╛ рж╣рж▓рзЛред
            // (320 / 16) = 20 ржЯрж┐ ржЯрж╛ржЗрж▓рж╕ред рждрж╛ржЗ BOARD_SIZE 20 рж╣рждрзЗ рж╣ржмрзЗред
            BOARD_SIZE = 20;
            TILE_SIZE = size / BOARD_SIZE;

            if (gameLoop) {
                // ржЧрзЗржо ржЪрж▓ржирзНржд ржЕржмрж╕рзНржерж╛ржпрж╝ ржерж╛ржХрж▓рзЗ рж╢рзБржзрзБ ржбрзНрж░ ржХрж▓ ржХрж░рж╛ рж╣рж▓рзЛ
                draw();
            }
        }

        // рж╕рзНржХрзНрж░рж┐ржи рж░рж┐рж╕рж╛ржЗржЬ рж╣рж▓рзЗ ржХрзНржпрж╛ржиржнрж╛рж╕ржУ ржпрзЗржи рж░рж┐рж╕рж╛ржЗржЬ рж╣рзЯ
        window.addEventListener('resize', () => {
            if (!gameArea.classList.contains('hidden')) {
                resizeCanvas();
            }
        });

┬а ┬а ┬а ┬а function placeFood() {
┬а ┬а ┬а ┬а ┬а ┬а food = {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а x: Math.floor(Math.random() * BOARD_SIZE),
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а y: Math.floor(Math.random() * BOARD_SIZE)
┬а ┬а ┬а ┬а ┬а ┬а };
┬а ┬а ┬а ┬а ┬а ┬а for (let segment of snake) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а if (segment.x === food.x && segment.y === food.y) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а return placeFood();
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а function draw() {
┬а ┬а ┬а ┬а ┬а ┬а context.fillStyle = '#f3f4f6';
┬а ┬а ┬а ┬а ┬а ┬а context.fillRect(0, 0, canvas.width, canvas.height);
┬а ┬а ┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а ┬а ┬а context.fillStyle = '#ef4444'; // Red food
┬а ┬а ┬а ┬а ┬а ┬а context.beginPath();
┬а ┬а ┬а ┬а ┬а ┬а context.arc(food.x * TILE_SIZE + TILE_SIZE / 2, food.y * TILE_SIZE + TILE_SIZE / 2, TILE_SIZE / 2 - 2, 0, 2 * Math.PI);
┬а ┬а ┬а ┬а ┬а ┬а context.fill();

┬а ┬а ┬а ┬а ┬а ┬а snake.forEach((segment, index) => {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а if (index === 0) { // Head
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а context.fillStyle = '#10b981'; // Bright green head
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а context.fillRect(segment.x * TILE_SIZE, segment.y * TILE_SIZE, TILE_SIZE, TILE_SIZE);
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а } else { // Body
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а context.fillStyle = '#34d399'; // Lighter green body
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а context.fillRect(segment.x * TILE_SIZE + 2, segment.y * TILE_SIZE + 2, TILE_SIZE - 4, TILE_SIZE - 4);
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а ┬а ┬а });
┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а function showGameOver() {
┬а ┬а ┬а ┬а ┬а ┬а context.fillStyle = 'rgba(255, 255, 255, 0.7)';
┬а ┬а ┬а ┬а ┬а ┬а context.fillRect(0, 0, canvas.width, canvas.height);
┬а ┬а ┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а ┬а ┬а context.fillStyle = '#1f2937';
┬а ┬а ┬а ┬а ┬а ┬а context.font = 'bold ' + (canvas.height * 0.1125) + 'px Inter, sans-serif'; // ржлржирзНржЯрзЗрж░ ржЖржХрж╛рж░ рж░рж┐рж╕рж╛ржЗржЬ ржХрж░рж╛ рж╣рж▓рзЛ
┬а ┬а ┬а ┬а ┬а ┬а context.textAlign = 'center';
┬а ┬а ┬а ┬а ┬а ┬а context.fillText('Game Over', canvas.width / 2, canvas.height / 2 - (canvas.height * 0.0625)); // ржкржЬрж┐рж╢ржи рж░рж┐рж╕рж╛ржЗржЬ ржХрж░рж╛ рж╣рж▓рзЛ
┬а ┬а ┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а ┬а ┬а context.font = (canvas.height * 0.075) + 'px Inter, sans-serif'; // ржлржирзНржЯрзЗрж░ ржЖржХрж╛рж░ рж░рж┐рж╕рж╛ржЗржЬ ржХрж░рж╛ рж╣рж▓рзЛ
┬а ┬а ┬а ┬а ┬а ┬а context.fillText(`Score: ${score}`, canvas.width / 2, canvas.height / 2 + (canvas.height * 0.0625)); // ржкржЬрж┐рж╢ржи рж░рж┐рж╕рж╛ржЗржЬ ржХрж░рж╛ рж╣рж▓рзЛ

┬а ┬а ┬а ┬а ┬а ┬а gameOverButtons.classList.remove('hidden');
┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а function update() {
┬а ┬а ┬а ┬а ┬а ┬а if (gameOver) return;

┬а ┬а ┬а ┬а ┬а ┬а const head = { x: snake[0].x + direction.x, y: snake[0].y + direction.y };
┬а ┬а ┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а ┬а ┬а if (head.x < 0 || head.x >= BOARD_SIZE || head.y < 0 || head.y >= BOARD_SIZE) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а gameOver = true;
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а clearInterval(gameLoop);
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а showGameOver();
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а sendScoreToServer(score);
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а return;
┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а ┬а ┬а for (let i = 1; i < snake.length; i++) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а if (head.x === snake[i].x && head.y === snake[i].y) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а gameOver = true;
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а clearInterval(gameLoop);
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а showGameOver();
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а sendScoreToServer(score);
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а return;
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а ┬а ┬а snake.unshift(head);

┬а ┬а ┬а ┬а ┬а ┬а if (head.x === food.x && head.y === food.y) {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а score++;
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а scoreEl.innerText = score;
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а placeFood();
┬а ┬а ┬а ┬а ┬а ┬а } else {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а snake.pop();
┬а ┬а ┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а ┬а ┬а draw();
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а function changeDirection(dx, dy) {
┬а ┬а ┬а ┬а ┬а ┬а if (snake.length > 1 && direction.x === -dx && direction.y === -dy) return;
┬а ┬а ┬а ┬а ┬а ┬а direction = { x: dx, y: dy };
┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а function setupControls() {
┬а ┬а ┬а ┬а ┬а ┬а document.addEventListener('keydown', e => {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а if (e.key === 'ArrowUp' || e.key.toLowerCase() === 'w') changeDirection(0, -1);
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а else if (e.key === 'ArrowDown' || e.key.toLowerCase() === 's') changeDirection(0, 1);
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а else if (e.key === 'ArrowLeft' || e.key.toLowerCase() === 'a') changeDirection(-1, 0);
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а else if (e.key === 'ArrowRight' || e.key.toLowerCase() === 'd') changeDirection(1, 0);
┬а ┬а ┬а ┬а ┬а ┬а });
            
            // ржЯрж╛ржЪ ржХржирзНржЯрзНрж░рзЛрж▓ (Swiping on Game Board) ржПрж░ ржЬржирзНржп ржирждрзБржи ржХрзЛржб
            let touchstartX = 0;
            let touchstartY = 0;
            const gameBoard = document.getElementById('game-board');

            gameBoard.addEventListener('touchstart', (e) => {
                // e.preventDefault(); /* ржПржЯрж┐ ржЕржкрж╕рж╛рж░ржг ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ ржпрж╛рждрзЗ ржкрзБрж░рзЛ рж╕рзНржХрзНрж░рж▓ ржХрж╛ржЬ ржХрж░рзЗ */
                touchstartX = e.changedTouches[0].screenX;
                touchstartY = e.changedTouches[0].screenY;
            }, false);

            gameBoard.addEventListener('touchend', (e) => {
                let touchendX = e.changedTouches[0].screenX;
                let touchendY = e.changedTouches[0].screenY;

                let dx = touchendX - touchstartX;
                let dy = touchendY - touchstartY;

                const SWIPE_THRESHOLD = 50; // рж╕рзЛрзЯрж╛ржЗржк рж╣рж┐рж╕рзЗржмрзЗ ржзрж░рж╛рж░ ржЬржирзНржп ржирзНржпрзВржирждржо ржжрзВрж░рждрзНржм

                if (Math.abs(dx) > SWIPE_THRESHOLD || Math.abs(dy) > SWIPE_THRESHOLD) {
                    if (Math.abs(dx) > Math.abs(dy)) {
                        // Horizontal swipe
                        if (dx > 0) changeDirection(1, 0); // Right
                        else changeDirection(-1, 0); // Left
                    } else {
                        // Vertical swipe
                        if (dy > 0) changeDirection(0, 1); // Down
                        else changeDirection(0, -1); // Up
                    }
                }
            }, false);
            // ржЯрж╛ржЪ ржХржирзНржЯрзНрж░рзЛрж▓ рж╢рзЗрж╖

┬а ┬а ┬а ┬а ┬а ┬а // ржХржирзНржЯрзНрж░рзЛрж▓ ржмрж╛ржЯржи ржПрж░ ржЬржирзНржп ржЯрж╛ржЪ ржЗржнрзЗржирзНржЯ
┬а ┬а ┬а ┬а ┬а ┬а document.getElementById('up-btn').addEventListener('touchstart', (e) => { e.preventDefault(); changeDirection(0, -1); });
┬а ┬а ┬а ┬а ┬а ┬а document.getElementById('down-btn').addEventListener('touchstart', (e) => { e.preventDefault(); changeDirection(0, 1); });
┬а ┬а ┬а ┬а ┬а ┬а document.getElementById('left-btn').addEventListener('touchstart', (e) => { e.preventDefault(); changeDirection(-1, 0); });
┬а ┬а ┬а ┬а ┬а ┬а document.getElementById('right-btn').addEventListener('touchstart', (e) => { e.preventDefault(); changeDirection(1, 0); });
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а┬а
┬а ┬а ┬а ┬а function startGame() {
            // resizeCanvas ржХрзЗржУ ржХрж▓ ржХрж░рж╛ рж╣рж▓рзЛ ржпрж╛рждрзЗ ржкрзНрж░рждрж┐ржмрж╛рж░ ржирждрзБржи ржЧрзЗржо рж╢рзБрж░рзБрж░ ржЖржЧрзЗ рж╕рж╛ржЗржЬ ржарж┐ржХ рж╣рзЯ 
            resizeCanvas(); 

┬а ┬а ┬а ┬а ┬а ┬а snake = [{ x: 10, y: 10 }];
┬а ┬а ┬а ┬а ┬а ┬а direction = { x: 0, y: 0 };
┬а ┬а ┬а ┬а ┬а ┬а score = 0;
┬а ┬а ┬а ┬а ┬а ┬а gameOver = false;
┬а ┬а ┬а ┬а ┬а ┬а scoreEl.innerText = score;
┬а ┬а ┬а ┬а ┬а ┬а gameOverButtons.classList.add('hidden');
┬а ┬а ┬а ┬а ┬а ┬а placeFood();
┬а ┬а ┬а ┬а ┬а ┬а if (gameLoop) clearInterval(gameLoop);
┬а ┬а ┬а ┬а ┬а ┬а gameLoop = setInterval(update, 120);
┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а async function sendScoreToServer(finalScore) {
┬а ┬а ┬а ┬а ┬а ┬а console.log(`Sending score to server: ${finalScore}`);
┬а ┬а ┬а ┬а ┬а ┬а // ржкрж░ржмрж░рзНрждрзА ржзрж╛ржкрзЗ ржЖржорж░рж╛ ржПржЦрж╛ржирзЗ PythonAnywhere рж╕рж╛рж░рзНржнрж╛рж░рзЗ рж╕рзНржХрзЛрж░ ржкрж╛ржарж╛ржирзЛрж░ ржХрзЛржб рж▓рж┐ржЦржмред
┬а ┬а ┬а ┬а }

┬а ┬а ┬а ┬а // Initialize Controls
┬а ┬а ┬а ┬а setupControls();
┬а ┬а ┬а ┬а restartBtn.addEventListener('click', startGame);

┬а ┬а ┬а ┬а document.getElementById('revive-ad-btn').addEventListener('click', () => {
┬а ┬а ┬а ┬а ┬а ┬а alert('Rewarded Ad feature will be added in the next step!');
┬а ┬а ┬а ┬а });
┬а ┬а </script>

</body>
</html>
